<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Fundamentals of NationBuilder • A Mini Guide to NationBuilder</title>
    <meta name="description" content="NationBuilder Basics and Development Overview">
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="The Fundamentals of NationBuilder">
	<meta name="twitter:description" content="NationBuilder Basics and Development Overview">
	<meta name="twitter:site" content="@RadishLab">
	<meta name="twitter:creator" content="@RadishLab">
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="/images/fundamentals-preview.png">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en">
	<meta property="og:type" content="article">
	<meta property="og:title" content="The Fundamentals of NationBuilder">
	<meta property="og:description" content="NationBuilder Basics and Development Overview">
	<meta property="og:url" content="/fundamentals/">
	<meta property="og:site_name" content="A Mini Guide to NationBuilder">


    <link rel="canonical" href="/fundamentals/">

    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="A Mini Guide to NationBuilder Atom Feed">
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <script src="https://use.typekit.net/qsr8win.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <link rel="stylesheet" href="/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="/js/vendor/html5shiv.min.js"></script>
      <script src="/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="/" class="site-title">A Mini Guide to NationBuilder</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">A Mini Guide to NationBuilder</a></li>
	
    
    <li><a href="/fundamentals/" >Fundamentals</a></li>
  
    
    <li><a href="/website/" >Website</a></li>
  
    
    <li><a href="/community/" >Community</a></li>
  
</ul>
    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5><a href="" class="sliding-title-link">A Mini Guide to NationBuilder</a> <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="/fundamentals/">
        <img src="/images/fundamentals-preview.png" alt="teaser" class="teaser">
        <div class="title">Fundamentals</div>
        <p class="excerpt">NationBuilder Basics and Development Overview</p>
      </a>
    </li><li>
      <a href="/website/">
        <img src="/images/website-preview.png" alt="teaser" class="teaser">
        <div class="title">Website</div>
        <p class="excerpt">Principles and Best Practices for Developing Websites with NationBuilder</p>
      </a>
    </li><li>
      <a href="/community/">
        <img src="/images/community-preview.png" alt="teaser" class="teaser">
        <div class="title">Community</div>
        <p class="excerpt">Connecting Users and Building Community with NationBuilder</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		

		<div class="page-title">
			<h1>The Fundamentals of NationBuilder</h1>
		</div>
    <div class="hero-container">
      <img src="../images/fundamentals-hero.png" alt="hero" class="hero">
    </div>
		<div class="inner-wrap">
			<div id="content" class="page-content" itemprop="articleBody">
				<h2 id="the-fundamentals-of-nationbuilder">The Fundamentals of NationBuilder</h2>

<nav class="toc">
<ul id="markdown-toc">
  <li><a href="#hello-nationbuilder" id="markdown-toc-hello-nationbuilder">Hello NationBuilder</a></li>
  <li><a href="#liquid-basics" id="markdown-toc-liquid-basics">Liquid Basics</a></li>
</ul>

</nav>

<h1 id="hello-nationbuilder">Hello NationBuilder</h1>

<p><a href="http://nationbuilder.com/website" target="_blank">NationBuilder</a> is a powerful tool for organizing people online. But just what does that mean?</p>

<p>Well you can think of it as a platform for making websites that also provides a host of integrated tools to help coordinate communities around a common goal, with the website as one part of a multifaceted approach. So in that way, NationBuilder is conceptually different from other platforms on the web and quite a bit more ambitious. It connects your site to a ready-made framework for organizing, coordinating, and communicating with users. It also includes powerful financial tools necessary for many initiatives, and provides optimal control over how it all goes together. NationBuilder serves up an impressive breadth and depth of functionality while still being incredibly customizable, scalable, and flexible.</p>

<p>And that is no easy feat.</p>

<p>For a product like this to be universally adaptable, it has to make trade-offs, which can be limiting. So you need to be aware of its restrictions as well as its functional attributes. NationBuilder is a complex piece of software, but the more you work with it, the more you see the thought that went into making every piece connect as seamlessly as possible. Radish Lab is now a certified NationBuilder <a href="http://nationbuilder.com/radishlab" target="_blank">architect</a> so yes, I am biased. We don’t recommend NationBuilder for every project, but it can be a great option for certain types of clients, including nonprofits, educational institutions, advocacy groups, and political organizations; anyone who wants to raise funds, hold an event, boost awareness, spark action, or create a movement.</p>

<div style="text-align: center;"><iframe src="https://player.vimeo.com/video/129819511?color=62b6cf&amp;title=0&amp;byline=0&amp;portrait=0" width="600" height="376" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>

<h2 id="nationbuilder-website-basics">NationBuilder Website Basics</h2>

<p>When getting acquainted with NationBuilder, the control panel is a good place to start. This is where all aspects of an organization’s community are managed. It includes a Dashboard where you can monitor activity as well as sections for the website itself, people, communication, finance, and general settings. A nation can have many websites, but they can all be managed in one place and connected in useful ways here.</p>

<p>The control panel is where most general organization of a website happens. For example, when you create a page here, be sure to choose its page type wisely. There are many options, and whichever one you choose will determine what that page will be set up to accomplish within your site. For example, a signup page type comes ready to collect user submissions, with the preloaded capability to customize a form however you need it.</p>

<p><img src="../images/page-types.jpg" alt="NationBuilder Page Types" /></p>

<p>I’m going to get a bit technical here, so proceed with caution.</p>

<p>NationBuilder is built with <a href="http://rubyonrails.org/" target="_blank">Ruby on Rails</a> and uses PostgreSQL for its back-end database, but not much back-end expertise is needed. You also have solid front-end control as well as easy monitoring of comments and activity feeds, advanced spam blocking, reliable server scaling, recruiter and referral tracking, full control over SEO, and built-in Google Analytics.</p>

<p>NationBuilder uses <a href="http://nationbuilder.com/theme_sync" target="_blank">Theme Sync</a> for developing locally on a Mac. Once you create a nation, you’ll want to download it via Theme Sync. Then, you’ll have much greater access to what’s under the hood than the control panel affords you, although you’ll still switch back and forth with the control panel as some stuff can only be done there. It’s also useful to remember the two levels of NationBuilder editing. Theme-level editing is modifying page types across your entire website. To do that from your control panel, go to <strong>Website &gt; Theme</strong>. Page-level editing is modifying a specific page. This will override your theme level template. To do that, go to <strong>Website &gt; Template</strong>.</p>

<p><img src="../images/themes.png" alt="NationBuilder Themes" /></p>

<p>In addition to SCSS and Javascript, NationBuilder uses the open source Liquid template language to access objects and variables. Liquid is based in <a href="https://www.ruby-lang.org/en/" target="_blank">Ruby</a> and was first developed for <a href="https://www.shopify.com/" target="_blank">Shopify</a>. The two basic types of liquid markup are output and tags. Output variables are used to to display dynamic content. They are surrounded by <code>{{</code> two curly brackets <code>}}</code> and are replaced with the data they reference. Tags are put inside <code>{%</code> a curly bracket and a percent <code>%}</code> and are used to define logic like for loops or branching logic.</p>

<p>Here’s an example of some liquid template logic:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% subpage "page_slug" with "features" %}</code></pre></figure>

<p>This will display the content of the <strong>_features.html</strong> partial template with the settings of the <strong>page_slug</strong> in question. So that Liquid code would go in an HTML template file. The most important template files in a NationBuilder project are:</p>

<ul>
  <li>layout.html wraps every page and includes header and footer.</li>
  <li>_columns_1.html wraps the main content area of a page when the sidebar is turned off.</li>
  <li>_columns_2.html wraps the main content area of a page when the sidebar is turned on.</li>
  <li>_nav.html is the top navigation include.</li>
</ul>

<p>And the most important stylesheets are:</p>

<ul>
  <li>_variables.scc contains all variables.</li>
  <li>theme.scss is the mobile first stylesheet which controls the overall look of your website.</li>
  <li>tablet-and-desktop.scss are the styles for people viewing the site on tablet and desktops.</li>
  <li>_navs.scss contains base navigation styles.</li>
  <li>_navbar.scss contains navigation bar styles.</li>
</ul>

<p>Familiarize yourself with those files and check out what else lives in a nation’s theme and site folders and you’ll have a good understanding of everything that goes into a NationBuilder website. In my next post, I’ll be providing some specific tips and tricks for developing themes on NationBuilder so stay tuned to learn how to customize that website!</p>

<h1 id="liquid-basics">Liquid Basics</h1>

<p>In my <a href="http://radishlab.com/2015/10/a-practical-introduction-to-nationbuilder/" target="_blank">previous post</a>, I went over some high-level key concepts as an introduction to the <a href="http://nationbuilder.com/" target="_blank">NationBuilder</a> platform. Now, and over my next few articles, I’ll go a bit deeper on the development side with some examples of how to solve common issues on NationBuilder and share lessons I’ve learned along the way. I’ll also provide a few code snippets designed to give you some insight into how NationBuilder works under the hood.</p>

<p>So consider this an introductory series, covering the fundamentals of developing on NationBuilder, with—hopefully—a few tips and tricks everyone can use. And as always, let me know what you think!</p>

<p><img src="../images/desktop.jpg" alt="desktop work station" /></p>

<h2 id="getting-a-feel-for-liquid">Getting a Feel for Liquid</h2>

<p>To start off with some basics, NationBuilder uses a templating language called Liquid, which has two types of markup: <strong>Output</strong> and <strong>Tag</strong>.</p>

<ol>
  <li>Output markup is surrounded by double curly brackets <code>{{ like this }}</code>. This format may resolve to text.</li>
  <li>Tag markup is surrounded by curly brackets and percent signs <code>{% like this %}</code>. This format does not resolve to text.</li>
</ol>

<h4 id="liquid-output-example-1">Liquid Output Example 1:</h4>

<p>When outputting content, you can add all sorts of filters which are simple methods to manipulate data. So to reformat a date syntax reference, you could write:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{{ event.event.local_start_at | date: '%A, %B %d, %Y at %I:%M %p' }}</code></pre></figure>

<p>The above line will display the date in this format: “Friday, January 1, 2016 at 8:30pm”</p>

<h4 id="liquid-output-example-2">Liquid Output Example 2:</h4>

<p>You could also string filters together. Here, I’m using the <code class="highlighter-rouge">truncatewords</code> and <code class="highlighter-rouge">upcase</code> filters:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{{ post.headline | truncatewords: 10 | upcase }}</code></pre></figure>

<p>This would limit the amount of words displayed from the post headline to 10 and then convert that string to all capital letters.</p>

<h4 id="liquid-output-example-3">Liquid Output Example 3:</h4>

<p>Or you could add content to the beginning or end of any output:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{{ page.headline | prepend: 'by Author' | append: '<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"file.jpg"</span><span class="nt">&gt;</span>'}}</code></pre></figure>

<p>This line prepends the words “by Author” in front of the page headline output and then appends an image at the end of it. I’ll get more into Liquid logic for looping and branching in my next post but here are two basic examples.</p>

<h4 id="liquid-logic-example-1">Liquid Logic Example 1:</h4>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% if page.is_homepage? == true %}
  <span class="nt">&lt;h2&gt;</span>Welcome to the homepage.<span class="nt">&lt;/h2&gt;</span>
{% endif %}</code></pre></figure>

<p>This code uses the operator == to check if the user is on the homepage and displays a message accordingly.</p>

<h4 id="liquid-logic-example-2">Liquid Logic Example 2:</h4>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% if request.current_user.tags contains %u2018new_member%u2019 %}
  <span class="nt">&lt;h2&gt;</span>Welcome, thanks for becoming a member!<span class="nt">&lt;/h2&gt;</span>
{% endif %}</code></pre></figure>

<p>The above would show the greeting only if a user had new_member among their tags.</p>

<h4 id="liquid-logic-example-3">Liquid Logic Example 3:</h4>

<p>You could also use a Liquid logic tag to cycle through a series and output the same piece of code for each instance.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul&gt;</span>
  {% for child in page.children %}
    <span class="nt">&lt;li&gt;</span>{{ child.name }}<span class="nt">&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;ul&gt;</span></code></pre></figure>

<p>Here, we create a full list of a certain page’s subpages.</p>

<h2 id="how-liquid-is-used-in-nationbuilder">How Liquid is Used in NationBuilder</h2>

<p>Liquid works by adding page, user, site, and request variables into a page or a template file. One important distinction to make about the NationBuilder CMS is that actions are taken using different NationBuilder page types, rather than widgets or plugins. So to create a petition, event page, or general signup page, you’d create a new page with that type. Here are some useful documentation links:</p>

<ul>
  <li><a href="http://nationbuilder.com/liquid_basics" target="_blank">Liquid Basics</a></li>
  <li><a href="http://nationbuilder.com/liquid" target="_blank">Liquid Object Reference</a></li>
  <li><a href="http://nationbuilder.com/liquid_template_examples" target="_blank">Liquid Snippets</a></li>
</ul>

<p>You’ll see Liquid is doing most of the work when you set up your nation. In my previous post, I gave a quick rundown of the most important template files. Getting a sense of how they’re all organized and connected will help big time.</p>

<p>To start though, just note that content that you want be on every page should go in the <strong>layout.html</strong> file. You’ll see this file already contains <code>{{ content_for_header }}</code> in its head tags as well as <code>{% include "nav" %}</code> and <code>{{ content_for_footer }}</code> in its body tags, all of which load jQuery scripts, meta data, and other critical code.</p>

<h2 id="page-variables">Page Variables</h2>

<p>For any page, you’ll be able to call a range of <a href="http://nationbuilder.com/page_variables" target="_blank">page variables</a>.</p>

<p>Stick this snippet on any page to list out what each variable is for that particular page:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"reference"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h2&gt;</span>For Reference<span class="nt">&lt;/h2&gt;</span>
  <span class="nt">&lt;p&gt;</span>page excerpt = {% if page.excerpt.size &gt; 0 %} <span class="nt">&lt;strong&gt;</span>{{ page.excerpt }}<span class="nt">&lt;/strong&gt;</span> {% else %} <span class="nt">&lt;strong&gt;</span>There is no page excerpt.<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>page ID = <span class="nt">&lt;strong&gt;</span>{{ page.id }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>page title = <span class="nt">&lt;strong&gt;</span>{{ page.title }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>page name = <span class="nt">&lt;strong&gt;</span>{{ page.name }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>tage type name = <span class="nt">&lt;strong&gt;</span>{{ page.type_name }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>type of page slug = <span class="nt">&lt;strong&gt;</span>{{ page.type_slug }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>page type icon = <span class="nt">&lt;strong&gt;</span>{{ page.icon | icon }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
  {% if page.has_author? %}
    <span class="nt">&lt;p&gt;</span>page author = <span class="nt">&lt;strong&gt;</span>{{ page.author.published_name }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
  {% else %}
    <span class="nt">&lt;p&gt;&lt;strong&gt;</span>this page does not have an author.<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
  {% endif %}
    <span class="nt">&lt;p&gt;</span>when this page was published = <span class="nt">&lt;strong&gt;</span>{{ page.published_at | date: '%b %d, %Y %l:%M %p' }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>does the site have a primary image? = <span class="nt">&lt;strong&gt;</span>{{ page.has_meta_image? }}<span class="nt">&lt;/strong&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span></code></pre></figure>

<h2 id="tagging-pages-and-people">Tagging Pages and People</h2>

<p>When you set up a new page on NationBuilder, you can add a tag to people under the settings tab of that new page. In the control panel for a page or person, there is a button to tag that page. A tag can also be added automatically when a person takes an action on your website or contacts a broadcaster.</p>

<p><img src="../images/page-tags.png" alt="page tags" /></p>

<p><img src="../images/people-tags.png" alt="people tags" /></p>

<p>The <code>{% tag %}</code> logic tag is used to associate pages with a specific page tag with an HTML snippet for display.</p>

<h4 id="page-tag-example">Page Tag Example:</h4>

<p>If you had this code on a page:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% tag "show_meta_image" with "partial_meta_image_snippet" %}</code></pre></figure>

<p>adding the tag <code>show meta image</code> to that page would cause it to render the html file <strong>_partial_meta_image_snippet.html</strong>. The leading underscore is necessary in the filename when including snippets, but is not included in the liquid call itself. Adding the prefix “_partial” to all partial snippets is not necessary but is a good way to organize them in your file listing.</p>

<p>Then, this line in <strong>_partial_meta_image_snippet.html</strong>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{{ page.meta_image_url }}"</span><span class="nt">&gt;</span></code></pre></figure>

<p>would render that page’s meta image via the code in the HTML snippet.</p>

<h2 id="using-page-tags-for-theme-level-customizing">Using Page Tags for Theme-Level Customizing</h2>

<p>By adding and removing page tags, you can allow clients to easily customize page content and layouts.</p>

<p>By default, NationBuilder liquid variables include one named <code class="highlighter-rouge">page.tags</code>, an array of page tags. But you’ll need those tags in a list format to enable NationBuilder’s theme engine to recognize and search for them. This code creates a new variable called <code class="highlighter-rouge">tags_list</code> and tells NationBuilder it’s value is a full list of the page’s tags, separated by commas.</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% assign tags_list = "" %} {% for tag in page.tags %} {% assign tags_list = tag.name | append: ", " | append: tags_list %} {% endfor %}</code></pre></figure>

<p>Then you can use if statements to query whether the page has a particular tag, and show or hide the content accordingly.</p>

<h4 id="example">Example:</h4>

<figure class="highlight"><pre><code class="language-html" data-lang="html">{% if tags_list contains %u201Csample tag%u201D %}
  show custom content
{% endif %}</code></pre></figure>

<p>Then just add or remove tags to a page to control its content.</p>

<p>That’s all for now on Liquid basics. Check back soon for the next installment on for loops and conditionals. And if you have any questions or need some help with your site, just <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#099;&#104;&#114;&#105;&#115;&#064;&#114;&#097;&#100;&#105;&#115;&#104;&#108;&#097;&#098;&#046;&#099;&#111;&#109;" target="_blank">reach out</a>, and we’d be glad to help!</p>

				<hr />
				<footer class="page-footer">
					
					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=The%20Fundamentals%20of%20NationBuilder&amp;url=/fundamentals/&amp;via=RadishLab" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=/fundamentals/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<!-- <a class="btn-social google-plus"  href="https://plus.google.com/share?url=/fundamentals/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a> -->
</div><!-- /.share-this -->

				</footer><!-- /.footer -->
				<aside>
					
				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		
	</article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
			<li><a href="/fundamentals/" >Fundamentals</a></li>
		
      
			<li><a href="/website/" >Website</a></li>
		
      
			<li><a href="/community/" >Community</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2016 <a href="">A Mini Guide to NationBuilder</a>.</p>
</footer>

    </div>

    <script src="/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="/js/main.js"></script>

  </body>

</html>
